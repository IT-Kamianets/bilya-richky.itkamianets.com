<main class="booking-page">
	<section class="booking-hero">
		<div class="container-lg px-4 py-5">
			<p class="section-kicker">Booking & Contact</p>
			<h1 class="section-title">Request your stay at Bilya Richky</h1>
			<p class="section-subtitle">
				Share your dates and preferences. We confirm availability within 24 hours by phone or email.
			</p>
		</div>
	</section>

	<section class="booking-body page-body">
		<div class="container-lg px-4 pb-5">
			<div class="booking-grid">
				<div class="booking-form">
					<ng-container *ngIf="!submitted; else successState">
						<form [formGroup]="checkoutForm" (ngSubmit)="onSubmit()" class="card booking-card">
							<div class="card-body p-4">
								<h2 class="h4 mb-3">Booking request</h2>
								<div class="row g-3">
									<div class="col-12">
										<label class="form-label">Full name</label>
										<input type="text" class="form-control" formControlName="fullName" placeholder="Your name" />
									</div>
									<div class="col-md-6">
										<label class="form-label">Phone</label>
										<input type="tel" class="form-control" formControlName="phone" placeholder="+38 (0__) ___-__-__" />
									</div>
									<div class="col-md-6">
										<label class="form-label">Email</label>
										<input type="email" class="form-control" formControlName="email" placeholder="you@example.com" />
									</div>
									<div class="col-md-6">
										<label class="form-label">Check-in</label>
										<input type="date" class="form-control" formControlName="checkIn" />
									</div>
									<div class="col-md-6">
										<label class="form-label">Check-out</label>
										<input type="date" class="form-control" formControlName="checkOut" />
									</div>
									<div class="col-md-4">
										<label class="form-label">Guests</label>
										<input type="number" class="form-control" formControlName="guests" min="1" />
									</div>
									<div class="col-md-8">
										<label class="form-label">Room preference</label>
										<input type="text" class="form-control" formControlName="roomPreference" placeholder="Standard double room" />
									</div>
									<div class="col-12">
										<label class="form-label">Message</label>
										<textarea class="form-control" rows="4" formControlName="message" placeholder="Let us know if you need a baby cot, late arrival, or a special setup."></textarea>
									</div>
								</div>
								<button class="btn btn-primary w-100 mt-4 py-2" type="submit" [disabled]="checkoutForm.invalid">
									Send booking request
								</button>
								<p class="small text-muted mt-2 mb-0">
									We reply within 24 hours with confirmation and payment details.
								</p>
							</div>
						</form>
					</ng-container>

					<ng-template #successState>
						<div class="card booking-success">
							<div class="card-body p-4">
								<h2 class="h4 mb-2">Request received</h2>
								<p class="text-muted">
									Thank you{{ submittedData?.fullName ? ', ' + submittedData?.fullName : '' }}.
									Our team will confirm availability within 24 hours.
								</p>
								<div class="booking-success__details">
									<div>
										<span>Dates</span>
										<strong>{{ submittedData?.checkIn || 'TBD' }} → {{ submittedData?.checkOut || 'TBD' }}</strong>
									</div>
									<div>
										<span>Guests</span>
										<strong>{{ submittedData?.guests || 'TBD' }}</strong>
									</div>
								</div>
								<button class="btn btn-outline-primary mt-3" type="button" (click)="resetForm()">
									Send another request
								</button>
							</div>
						</div>
					</ng-template>
				</div>

				<div class="booking-info">
					<div class="card booking-card">
						<div class="card-body p-4">
							<h2 class="h5 mb-3">Contact details</h2>
							<div class="booking-info__item">
								<i class="bi bi-telephone"></i>
								<div>
									<p>Phone</p>
									<a href="tel:+380972581734">+38 (097) 258-17-34</a>
								</div>
							</div>
							<div class="booking-info__item">
								<i class="bi bi-envelope"></i>
								<div>
									<p>Email</p>
									<a href="mailto:info@hotel-kp.com.ua">info@hotel-kp.com.ua</a>
								</div>
							</div>
							<div class="booking-info__item">
								<i class="bi bi-geo-alt"></i>
								<div>
									<p>Address</p>
									<span>5 Onufriivska Street, Kamianets-Podilskyi</span>
								</div>
							</div>
							<div class="booking-info__note">
								Check-in 14:00 · Check-out 12:00 · Breakfast from 70 UAH
							</div>
						</div>
					</div>

					<div class="card booking-card" *ngIf="selectedProduct">
						<div class="card-body p-4">
							<h2 class="h5 mb-3">Selected room</h2>
							<div class="booking-room">
								<img [src]="selectedProduct.image" [alt]="selectedProduct.title" />
								<div>
									<p class="booking-room__title">{{ selectedProduct.title }}</p>
									<p class="booking-room__price">From UAH {{ selectedProduct.price }} / night</p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
</main>
